
:root{
  --bg: #0b1020;
  --bg-elev: #101934;
  --text: #eef1ff;
  --muted: #b8c0ff;
  --accent: #7aa2ff;
  --accent-2: #a6e3a1;
  --card: #0f172a;
  --ring: #93c5fd;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* Flexible design tokens */
  --container: 1120px;
  --space-1: .25rem;  /* 4px */
  --space-2: .5rem;   /* 8px */
  --space-3: .75rem;  /* 12px */
  --space-4: 1rem;    /* 16px */
  --space-5: 1.5rem;  /* 24px */
  --space-6: 2rem;    /* 32px */
  --radius: 16px;
  --radius-lg: 20px;
  --shadow-2: 0 20px 40px rgba(0,0,0,.25);
  --step--1: clamp(.85rem, .78rem + .3vw, .95rem);
  --step-0: clamp(1rem, .95rem + .4vw, 1.125rem);
  --step-1: clamp(1.2rem, 1.05rem + .9vw, 1.5rem);
  --step-2: clamp(1.5rem, 1.2rem + 1.5vw, 2rem);
  --step-3: clamp(1.9rem, 1.6rem + 2.4vw, 2.8rem);
}

:root.light{
  --bg: #f7f8fc;
  --bg-elev: #ffffff;
  --text: #0f172a;
  --muted: #334155;
  --accent: #3b82f6;
  --accent-2: #16a34a;
  --card: #ffffff;
  --ring: #3b82f6;
  --shadow: 0 10px 30px rgba(2,6,23,.08);
}

@media (prefers-color-scheme: light){
  :root:not(.light){}
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font: var(--step-0)/1.65 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 600px at 10% -10%, rgba(59,130,246,.25), transparent 60%),
              radial-gradient(800px 500px at 90% 10%, rgba(22,163,74,.15), transparent 60%),
              var(--bg);
}

img{max-width:100%;display:block;border-radius:14px}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.page {
  min-height: 100vh;        
  display: flex;
  flex-direction: column;
}

.container{ width:min(var(--container), 92vw); margin-inline:auto; }
.flow > * + *{ margin-top: var(--space-4); }

.site-header{
  position:sticky;top:0;z-index:50;
  background:linear-gradient(180deg, rgba(0,0,0,.25), transparent), var(--bg-elev);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.06);
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 16px;
}
.brand{display:flex;gap:10px;align-items:center;font-weight:700;color:var(--text)}
.brand-logo{display:inline-grid;place-items:center;width:28px;height:28px;border-radius:8px;background:var(--accent);color:white}
.site-nav{display:flex;gap:16px;align-items:center}
.site-nav a{padding:8px 10px;border-radius:10px}
.site-nav a:hover{background:rgba(255,255,255,.06);text-decoration:none}
.theme-toggle{border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);
  border-radius:10px;padding:6px 10px;cursor:pointer}
#nav-toggle{display:none}
.hamburger{display:none;cursor:pointer;padding:10px;border-radius:8px}
.hamburger span{display:block;width:22px;height:2px;background:var(--text);margin:5px 0}

.site-main {
  flex: 1;                 
  width: 100%;
  margin: 28px auto;
  display: grid;
  gap: 28px;
}
.hero{display:grid;grid-template-columns:1.1fr .9fr;gap: var(--space-5);align-items:center}
.hero .hero-actions{display:flex;gap: var(--space-3);margin-top:10px}
.btn{display:inline-block;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.08);color:var(--text);border:1px solid rgba(255,255,255,.12)}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow);text-decoration:none}
.btn.primary{background:var(--accent);border-color:transparent;color:white}
.inline{display:inline-block;margin-top:8px}
.accent{color:var(--accent)}

.cards,
.projects-grid,
.gallery-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-4);
}
.card{background:var(--card);padding:18px;border-radius: var(--radius);border:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow)}
.card.media figure{margin:0 0 10px 0}
.card:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); transition:.2s ease; }

.prose h1{font-size: var(--step-2); margin:.2rem 0 .6rem}
.prose h2{font-size: var(--step-1); margin-top:1.2rem}
.prose p{color:var(--muted)}

.form{display:grid;gap:12px;background:var(--card);padding:18px;border-radius: var(--radius);border:1px solid rgba(255,255,255,.06)}
.form label{font-weight:600}
.form input,.form select,.form textarea{
  width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:var(--text)
}
.form input:focus,.form select:focus,.form textarea:focus{outline:3px solid var(--ring)}
.stack{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
.actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}

.responsive-iframe{position:relative;padding-top:56.25%}
.responsive-iframe iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

.site-footer{border-top:1px solid rgba(255,255,255,.06);padding:16px;text-align:left;color:var(--muted)}

@media (max-width: 900px){
  .hero{grid-template-columns:1fr}
  .hamburger{display:block}
  .site-nav{position:fixed;inset:56px 0 auto 0;background:var(--bg-elev);padding:12px;display:none;flex-direction:column}
  #nav-toggle:checked ~ .hamburger + .site-nav{display:flex}
}

@media (max-width: 640px){
  .cards{grid-template-columns:1fr}
}

/* Focus visibility */
:focus-visible{outline:3px solid var(--ring);outline-offset:2px}

/* === Animated nav underline & active link === */
.site-nav a{
  position:relative;
  background-image: linear-gradient(currentColor, currentColor);
  background-position: 0 100%;
  background-repeat: no-repeat;
  background-size: 0% 2px;
  transition: background-size .25s ease, transform .1s ease;
}
.site-nav a:hover{ background-size: 100% 2px; }
.site-nav a.is-active{
  background-size: 100% 2px;
  font-weight: 700;
}

/* === Page fade-in / fade-out === */
body{ opacity: 0; transition: opacity .35s ease; }
body.ready{ opacity: 1; }
body.fade-out{ opacity: 0; }

/* === Contact form invalid visuals === */
.form input:invalid, .form select:invalid, .form textarea:invalid{
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239,68,68,.2);
}
.hint{ font-size: var(--step--1); color: var(--muted); display:block; margin-top: .25rem; }

/* --- Contact form grid & tidy controls --- */
.form--grid .grid-2{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: var(--space-4);
}
.field{ display:flex; flex-direction:column; gap:.35rem; }
.label{ font-weight:600; display:block; margin-bottom:.25rem; }
.req{ color: var(--accent-2); }
.options-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: .5rem 1rem;
  align-items:center;
}
.option{ display:flex; align-items:center; gap:.5rem; padding:.35rem .5rem; border-radius:10px; background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.06); }
.advanced{ margin-top: var(--space-5); padding: var(--space-4); border:1px dashed rgba(255,255,255,.14); border-radius: var(--radius); background: rgba(255,255,255,.02); }
.advanced > summary{ cursor:pointer; font-weight:700; margin-bottom: var(--space-3); }
.advanced[open]{ border-style: solid; }
.form textarea{ min-height: 140px; }
